# 乃木坂46 Xトレンド分析アプリケーション

## 📝 目的
乃木坂46の話題は日々膨大かつ流動的であり、手動で情報を追うには多大な労力を要します。
本プロジェクトでは、X（旧Twitter）上の乃木坂関連ツイートを自動で収集・カテゴライズ・要約することで、最新のトレンドを一目で把握できるアプリケーションを提供します。

## 🎯 要求・ゴール
* **自動収集**: 指定キーワードに基づくツイートの取得。
* **自動分類**: LLM（Claude 3.5）を用いた高精度なトピック分類。
* **サマリー生成**: 各カテゴリの統計情報（ツイート数、総PV、総お気に入り数）と代表例の抽出。
* **ランキング表示**: 注目度（総PV数）順に上位5カテゴリを可視化。

## ⚙️ 要件定義
| 項目 | 内容 |
| :--- | :--- |
| **ユーザー入力** | 検索キーワード（任意設定可）、収集ツイート合計件数、任意カテゴリ。 |
| **データソース** | TwitterAPI.io（Advanced Search API）を使用。 |
| **収集ロジック** | 人気順（Top）でソートされた上位データを指定数取得。 |
| **前処理** | URL除去、絵文字削除、不要な改行の平滑化、DataFrameへの構造化。 |
| **LLMスタック** | Amazon Bedrock / Claude 3.5 Sonnet。 |
| **出力形式** | 構造化JSON（プログラム処理用）および DataFrame（表示用）。 |

## 🏗️ システムアーキテクチャ
```text
ユーザー (APIクライアント)
  │
  │ キーワード, 取得件数, (任意)カテゴリ定義
  ▼
[データ収集モジュール] (tweet_api.py)
  │  使用API: X (twitterapi.io) / フィルタ: 人気順 (Top)
  │  生データ: id, text, viewCount, likeCount, url
  ▼
[前処理モジュール] (preprocessing.py)
  │  テキスト正規化: URL除去, 絵文字削除
  │
  ▼
[LLM分類・構造化モジュール] (tweet_categorize.py)
  │  使用モデル: AWS Bedrock (Claude 3.5 Sonnet)
  │  出力: カテゴリ付与済みの構造化データ (JSON)
  ▼
[集計・選定モジュール] (Python / Pandas)
  │  - カテゴリごとの統計計算 / 代表ツイート3件抽出
  │  - 総PV数順にソートし、上位5カテゴリを抽出
  ▼
[出力モジュール] (FastAPI / DataFrame)
     1. タイトル / 2. ツイート数 / 3. 総PV数 / 4. 総お気に入り数 / 5. 代表ツイート